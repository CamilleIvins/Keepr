import{_ as V,u as f,w as g,A as o,P as u,v as _,q as p,d as c,s as K,e as w,o as n,c as i,a as e,t as d,g as m,F as I,f as x,h as k,l as C,x as S,p as B,i as A}from"./index-d52ca69b.js";const b={setup(){const a=f();g(()=>{s(),v()});async function s(){try{const t=a.params.vaultId;C.log(t),await _.getVaultById(t)}catch{p.push({name:"Home"})}}async function v(){try{const t=a.params.vaultId;await S.getVaultKeeps(t)}catch(t){u.error(t)}}return{async deleteVault(){try{const t=o.activeVault.id;return await u.confirm("Are you sure you wish to delete this Vault?","All the Keeps within it will also be lost.")?(await _.deleteVault(t),p.push({name:"Account"}),o.myVaults):void 0}catch(t){u.error(t)}},account:c(()=>o.account),vault:c(()=>o.activeVault),vaultKeeps:c(()=>o.vaultKeeps),activeKeep:c(()=>o.activeVaultKeep)}},components:{VaultKeepCard:K}},r=a=>(B("data-v-87f4c7e6"),a=a(),A(),a),D={key:0,class:"d-flex flex-column col-9 container-fluid mb-5"},P={class:"row justify-content-center"},N={class:"col-md-8 col-12"},j=["src"],E={class:"text-center fs-1 img-title font-dancing"},F=r(()=>e("div",{class:"text-center mt-5"},null,-1)),q=r(()=>e("div",{class:"my-5 position-relative"},null,-1)),H=r(()=>e("div",{class:"mt-5 position-relative"},null,-1)),L={class:"mt-3 text-center"},R={class:"row justify-content-center mt-3"},z={key:0,class:"col-md-6 col-12 text-center"},G={class:"my-2 masonry-layout"},J=r(()=>e("section",null,null,-1));function M(a,s,v,t,h,O){const y=w("VaultKeepCard");return t.vault.id?(n(),i("section",D,[e("section",P,[e("div",N,[e("img",{src:t.vault.img,class:"vault-cover",alt:""},null,8,j),e("div",E,d(t.vault.name),1)]),F]),q,H,e("div",L,d(t.vaultKeeps.length)+" Keeps in "+d(t.vault.name),1),e("section",R,[t.vault.creatorId==t.account.id?(n(),i("div",z,[e("button",{onClick:s[0]||(s[0]=(...l)=>t.deleteVault&&t.deleteVault(...l)),class:"btn delete-vault"}," Delete Vault ")])):m("",!0)]),e("section",G,[(n(!0),i(I,null,x(t.vaultKeeps,l=>(n(),i("div",{key:l.id,class:""},[k(y,{vk:l,onClick:s[1]||(s[1]=Q=>a.deleteKeep(a.id)),class:"mdi text-end"},null,8,["vk"])]))),128))]),J])):m("",!0)}const U=V(b,[["render",M],["__scopeId","data-v-87f4c7e6"]]);export{U as default};
